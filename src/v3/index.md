# 前言 <Badge type="tip" text="V3" />
::: warning
当前文档为v3版本（正在开发），v2版本接口因腾讯官方接口调整，无法获取会员歌曲以及高音质音乐。  
:::

1. 为了使接口拥有更强大的功能，我们重构了之前的所有代码，包括框架底层。  
2. 该框架已从本接口系统分离出来，有兴趣可访问 [lvluoyue/webman-mvc](https://github.com/lvluoyue/webman-mvc)  
3. 为什么要重构呢？因为V2的设计是针对`无cookie接口`设计的，由于腾讯修复了相关接口，导致当前接口无法很好的正常运行，如无法正确获取到音乐数据。  
4. 近期腾讯官方也在接口中加入了`接口限流`、`风控机制`，导致高并发时账号被风控。V3就是基于此诞生的专门针对这些问题进行了一定的优化。

## 更新变动
- [x] 更改了所有接口的code代码以及错误信息。
- [x] 更改了音乐搜索返回数据的格式，提供更详细的数据。
- [x] 更改了缓存策略。
- [x] 增加了多种cookie轮询算法（负载均衡算法）。
- [ ] 提供在线获取QQ音乐cookie功能，也可提供给我们。
- [x] 使用接口限流，防止接口被封。
- [ ] 新增接口token功能，区分付费接口。

## 系统特性
- [x] 使用webman+swoole实现接口协程。
- [x] 使用swoole的redis，mysql等连接池。
- [x] 使用GlobalData组件，实现进程间数据共享。
- [x] 使用Channel分布式通讯组件，实现进程间通讯。
- [x] 使用crontab组件，实现定时任务功能。
- [x] 使用自研框架（仿springboot）。
- [x] 使用前后端自动化部署方案。
- [ ] 编写接口统计算法，实时分析接口请求情况。

## 废弃的功能
- [x] 弃用GET参数与POST参数混合
- [x] 不再使用版本号作为路径（将V3作为最终版发布）
